!function(){"use strict";angular.module("marksimoslogin",["pascalprecht.translate","marksimos.model","marksimos.websitecomponent","marksimos.filter","marksimos.translation"]),angular.module("marksimoslogin").controller("userLoginController",["$scope","$http","$window","Student",function(n,e,a,o){n.css={newUser:{passwordPrompt:!1}},n.data={newUser:{email:"",password:""}},n.login=function(e){e.$valid&&o.login(n.data.newUser).success(function(){a.location.href="/marksimos/intro"}).error(function(a){e.password.$valid=!1,e.password.$invalid=!0,n.css.newUser.passwordPrompt=!0,console.log(a)})}}]),angular.module("marksimoslogin").controller("userIntroController",["$scope","$http","$window","Student","Company",function(n,e,a,o,r){n.css={showBox:"seminar"},n.data={brandNumber:0,skuNumber:0,currentStudent:null,currentStudentSeminar:null,currentCompany:null,seminars:[],selectSeminar:{seminar_id:0}},n.initSeminar=function(){o.getStudent().then(function(e){n.data.currentStudent=e}),o.getSeminar().then(function(e){n.data.seminars=e})},n.initSeminar(),n.chooseSeminar=function(a){n.data.selectSeminar.seminar_id=a,0!==n.data.selectSeminar.seminar_id&&e.get("/marksimos/api/choose_seminar",{params:n.data.selectSeminar}).success(function(){n.css.showBox="whoami",r.getCurrentStudent().then(function(e){n.data.currentStudentSeminar=e}),r.getCompany().then(function(e){angular.forEach(e.d_BrandsDecisions,function(e){n.data.brandNumber++,angular.forEach(e.d_SKUsDecisions,function(){n.data.skuNumber++})}),n.data.currentCompany=e})}).error(function(n){console.log(n)})},n.whoamiNext=function(){a.location.href="/marksimos/home"}}])}();